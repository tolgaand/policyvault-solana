[toolchain]
anchor_version = "0.32.1"

[features]
resolution = true
skip-lint = false

[programs.localnet]
policyvault = "DiWRnGf1JpqZrL8n9dUA9bUaJ4ruBVvmmKBcrdp7tJLD"

[programs.devnet]
policyvault = "DiWRnGf1JpqZrL8n9dUA9bUaJ4ruBVvmmKBcrdp7tJLD"

[registry]
url = "https://api.apr.dev"

[provider]
cluster = "localnet"
wallet = "../../.keypairs/deployer.json"

[test]
startup_wait = 60000

[test.validator]
reset = true
bind_address = "127.0.0.1"

# NOTE: Anchor v0.32 currently runs the scripts.test suite without reliably
# starting+deploying to a fresh local validator. In this repo, we run localnet
# tests via `npm run anchor:test`, which starts `solana-test-validator` with the
# program preloaded and then calls `anchor test --skip-local-validator --skip-deploy`.
[scripts]
test = "yarn run mocha -t 1000000 tests/"
